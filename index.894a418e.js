const e={firstNumber:"",secondNumber:"",sign:"",result:"",accumulator:""},t=["Clear","Enter","=","/","*","-","+","%"],r=["1","2","3","4","5","6","7","8","9","0","."];var n=function(){return{container:document.querySelector(".container"),calculator:document.querySelector(".calculator"),calcFirstNumber:document.querySelector(".calculator-first-number"),calcSecondNumber:document.querySelector(".calculator-second-number"),calcSign:document.querySelector(".calculator-sign"),calculatorNumbers:document.querySelector(".calculator-numbers"),calculatorFunctions:document.querySelector(".calculator-functions"),calculatorViewWrapper:document.querySelector(".view-wrapper")}};const{calculator:u}=n();const{calcFirstNumber:s,calcSecondNumber:o,calcSign:c,calculatorViewWrapper:i}=n();var m=()=>{e.firstNumber="",e.secondNumber="",e.sign="",e.result="",e.accumulator="",s.textContent="0",o.textContent="",c.textContent="",i.classList.remove("large-font"),i.classList.remove("medium-font"),i.classList.remove("small-font")};const{calcFirstNumber:l,calcSecondNumber:a,calculatorViewWrapper:d}=n();var b=function(t){if("BUTTON"!==t.target.nodeName)return;const r=t.target.textContent.trim();if(e.firstNumber.length+e.secondNumber.length+e.result.length>11&&d.classList.add("large-font"),e.firstNumber.length+e.secondNumber.length+e.result.length>19&&(d.classList.add("medium-font"),d.classList.remove("large-font")),e.firstNumber.length+e.secondNumber.length+e.result.length>26&&(d.classList.add("small-font"),d.classList.remove("medium-font")),""!==e.result&&""===e.sign&&m(),""===e.secondNumber&&""===e.sign){if(""===e.firstNumber&&"."===r&&(e.firstNumber="0."),"0"===e.firstNumber&&"."!==r&&(e.firstNumber=""),""===e.firstNumber&&(l.textContent=""),"0"===e.firstNumber&&"0"===r)return;if("."===r&&l.textContent.indexOf(".")>=0)return;e.firstNumber+=r,l.textContent+=r}else{if("0"===e.secondNumber&&"."!==r)return e.secondNumber=r,void(a.textContent=e.secondNumber);if(""===e.secondNumber&&"."===r)return e.secondNumber="0.",void(a.textContent+=e.secondNumber);if("0"===e.secondNumber&&"0"===r)return;if("."===r&&a.textContent.indexOf(".")>=0)return;e.secondNumber+=r,a.textContent+=r,""!==e.accumulator&&(e.accumulator+=e.sign,e.accumulator+=e.secondNumber)}};function N(e){return Function(` return (${e})`)()}const{calcFirstNumber:f,calcSecondNumber:g,calcSign:x}=n();var C=function(t){if("BUTTON"!==t.target.nodeName)return;const r=t.target.textContent.trim();if("+/-"===r)return""!==e.firstNumber&&""!==e.secondNumber?-1===Math.calcState.sign(N(e.secondNumber))?(e.secondNumber=String(Math.abs(N(e.secondNumber))),void(g.textContent=e.secondNumber)):(e.secondNumber=`(${String(-e.secondNumber)})`,void(g.textContent=e.secondNumber)):void(-1===Math.calcState.sign(N(e.firstNumber))?(e.firstNumber=String(Math.abs(N(e.firstNumber))),f.textContent=e.firstNumber):(e.firstNumber=`(${String(-e.firstNumber)})`,f.textContent=e.firstNumber));if("%"===r)return""!==e.firstNumber&&""===e.secondNumber?-1===Math.calcState.sign(N(e.firstNumber))?(e.firstNumber=`(${1*N(e.firstNumber)/100})`,void(f.textContent=e.firstNumber)):(f.textContent=1*N(e.firstNumber)/100,void(e.firstNumber=f.textContent)):-1===Math.calcState.sign(N(e.secondNumber))?(e.secondNumber=`(${1*N(e.secondNumber)/100})`,void(g.textContent=e.secondNumber)):(g.textContent=1*N(e.secondNumber)/100,void(e.secondNumber=g.textContent));if("="!==r&&"AC"!==r&&"+/-"!==r)return""!==e.firstNumber&&""!==e.secondNumber&&""!==e.sign&&(e.accumulator=e.firstNumber+e.sign+e.secondNumber,e.firstNumber=e.firstNumber+e.sign+e.secondNumber,e.secondNumber="",f.textContent=e.firstNumber,g.textContent=""),e.sign=r,void(x.textContent=e.sign);if("AC"===r&&(m(),x.textContent="0"),(""!==e.firstNumber&&"0"!==e.firstNumber||""===e.sign||""!==e.secondNumber)&&(""===e.firstNumber||""!==e.sign||""!==e.secondNumber)){if("="===r){if(""===e.secondNumber&&(e.secondNumber=e.firstNumber),""===e.firstNumber&&(e.firstNumber="0"),""!==e.accumulator)return(e.result=N(e.accumulator))===1/0||e.result===-1/0?(e.result="Error",f.textContent=e.result,e.firstNumber="0",e.accumulator="",e.secondNumber="",g.textContent="",e.sign="",void(x.textContent="")):(!Number.isInteger(e.result)&&String(e.result).length>7&&(e.result=parseFloat(e.result.toFixed(5))),f.textContent=e.result,e.firstNumber=f.textContent,e.accumulator=f.textContent,e.secondNumber="",g.textContent="",e.sign="",void(x.textContent=""));if((e.result=N(e.firstNumber+e.sign+e.secondNumber))===1/0||e.result===-1/0)return e.result="Error",f.textContent=e.result,e.firstNumber="0",e.accumulator="",e.secondNumber="",g.textContent="",e.sign="",void(x.textContent="");!Number.isInteger(e.result)&&String(e.result).length>7&&(e.result=parseFloat(e.result.toFixed(5))),f.textContent=e.result,e.firstNumber=f.textContent,e.accumulator=f.textContent,e.secondNumber="",g.textContent="",e.sign="",x.textContent=""}e.secondNumber="",g.textContent="",e.sign="",x.textContent=""}};const{calcFirstNumber:v,calcSecondNumber:y,calculatorViewWrapper:S}=n();var k=function(t){if(r.includes(t.key))if(document.querySelector(`[data-action="${t.key}"]`)&&document.querySelector(`[data-action="${t.key}"]`).classList.add("btn-active"),e.firstNumber.length+e.secondNumber.length+e.result.length>11&&S.classList.add("large-font"),e.firstNumber.length+e.secondNumber.length+e.result.length>19&&(S.classList.add("medium-font"),S.classList.remove("large-font")),e.firstNumber.length+e.secondNumber.length+e.result.length>26&&(S.classList.add("small-font"),S.classList.remove("medium-font")),""!==e.result&&""===e.sign&&m(),""===e.secondNumber&&""===e.sign){if(""===e.firstNumber&&"."===t.key&&(e.firstNumber="0."),"0"===e.firstNumber&&"."!==t.key&&(e.firstNumber=""),""===e.firstNumber&&(v.textContent=""),"0"===e.firstNumber&&"0"===t.key)return;if("."===t.key&&v.textContent.indexOf(".")>=0)return;e.firstNumber+=t.key,v.textContent+=t.key}else{if("0"===e.secondNumber&&"."!==t.key)return e.secondNumber=t.key,void(y.textContent=e.secondNumber);if(""===e.secondNumber&&"."===t.key)return e.secondNumber="0.",void(y.textContent+=e.secondNumber);if("0"===e.secondNumber&&"0"===t.key)return;if("."===t.key&&y.textContent.indexOf(".")>=0)return;e.secondNumber+=t.key,y.textContent+=t.key,""!==e.accumulator&&(e.accumulator+=e.sign,e.accumulator+=e.secondNumber)}};const{calcFirstNumber:h,calcSecondNumber:L,calcSign:p}=n();var F=function(r){if(t.includes(r.key)){if("Enter"===r.key?document.querySelector('[data-action="="]').classList.add("btn-active"):document.querySelector(`[data-action="${r.key}"]`).classList.add("btn-active"),"%"===r.key)return""!==e.firstNumber&&""===e.secondNumber?-1===Math.calcState.sign(N(e.firstNumber))?(e.firstNumber=`(${1*N(e.firstNumber)/100})`,void(h.textContent=e.firstNumber)):(h.textContent=1*N(e.firstNumber)/100,void(e.firstNumber=h.textContent)):-1===Math.calcState.sign(N(e.secondNumber))?(e.secondNumber=`(${1*N(e.secondNumber)/100})`,void(L.textContent=e.secondNumber)):(L.textContent=1*N(e.secondNumber)/100,void(e.secondNumber=L.textContent));if("="!==r.key&&"Clear"!==r.key&&"Enter"!==r.key)return""!==e.firstNumber&&""!==e.secondNumber&&""!==e.sign&&(e.accumulator=e.firstNumber+e.sign+e.secondNumber,e.firstNumber=e.firstNumber+e.sign+e.secondNumber,e.secondNumber="",h.textContent=e.firstNumber,L.textContent=""),e.sign=r.key,void(p.textContent=e.sign);if("Clear"===r.key&&m(),(""===e.firstNumber||"0"===e.firstNumber)&&""!==e.sign&&""===e.secondNumber||""!==e.firstNumber&&""===e.sign&&""===e.secondNumber)return;if("="===r.key||"Enter"===r.key){if(""===e.secondNumber&&(e.secondNumber=e.firstNumber),""===e.firstNumber&&(e.firstNumber="0"),""!==e.accumulator)return(e.result=N(e.accumulator))===1/0||e.result===-1/0?(e.result="Error",h.textContent=e.result,e.firstNumber="0",e.accumulator="",e.secondNumber="",L.textContent="",e.sign="",void(p.textContent="")):(!Number.isInteger(e.result)&&String(e.result).length>7&&(e.result=parseFloat(e.result.toFixed(5))),h.textContent=e.result,e.firstNumber=h.textContent,e.accumulator=h.textContent,e.secondNumber="",L.textContent="",e.sign="",void(p.textContent=""));if((e.result=N(e.firstNumber+e.sign+e.secondNumber))===1/0||e.result===-1/0)return e.result="Error",h.textContent=e.result,e.firstNumber="0",e.accumulator="",e.secondNumber="",L.textContent="",e.sign="",void(p.textContent="");!Number.isInteger(e.result)&&String(e.result).length>7&&(e.result=parseFloat(e.result.toFixed(5))),h.textContent=e.result,e.firstNumber=h.textContent,e.accumulator=h.textContent,e.secondNumber="",L.textContent="",e.sign="",p.textContent=""}e.secondNumber="",L.textContent="",e.sign="",p.textContent=""}};var q=e=>{if(r.includes(e.key)||t.includes(e.key)){if("Enter"===e.key)return void document.querySelector('[data-action="="]').classList.remove("btn-active");document.querySelector(`[data-action="${e.key}"]`).classList.remove("btn-active")}};const{container:E,calculatorNumbers:w,calculatorFunctions:$}=n();!function(e){let t=0,r=0,n=0,s=0;function o(e){(e=e||window.event).preventDefault(),n=e.clientX,s=e.clientY,document.onmouseup=i,document.onmousemove=c}function c(u){(u=u||window.event).preventDefault(),t=n-u.clientX,r=s-u.clientY,n=u.clientX,s=u.clientY,e.style.top=e.offsetTop-r+"px",e.style.left=e.offsetLeft-t+"px"}function i(){document.onmouseup=null,document.onmousemove=null}u.onmousedown=o}(E),w.addEventListener("click",b),$.addEventListener("click",C),document.addEventListener("keydown",k),document.addEventListener("keydown",F),document.addEventListener("keyup",q);
//# sourceMappingURL=index.894a418e.js.map

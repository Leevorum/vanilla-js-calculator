{"mappings":"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","sources":["src/js/app.js","src/js/refs.js"],"sourcesContent":["import getRefs from './refs';\n\nconst {\n  calculatorNumbers,\n  calculatorFunctions,\n  calcFirstNumber,\n  calcSecondNumber,\n  calcSign,\n} = getRefs();\n\nlet firstNumber = '';\nlet secondNumber = '';\nlet sign = '';\nlet result = '';\n\nexport default function app() {\n  calculatorNumbers.addEventListener('click', handleClickNumbers);\n  calculatorFunctions.addEventListener('click', handleCkickFunctions);\n}\n\nconst handleClickNumbers = evt => {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  //Only one dot in calcView\n  if (\n    evt.target.textContent === '.' &&\n    calcFirstNumber.textContent.indexOf('.') >= 0 &&\n    calcSecondNumber.textContent.indexOf('.') >= 0\n  ) {\n    return;\n  }\n  //Clear result after Math for new values.\n  if (result !== '') {\n    clearAll();\n  }\n  //Set first number if second number and sign are empty\n  if (secondNumber === '' && sign === '') {\n    //Delete 0 from calcViev\n    if (firstNumber === '') {\n      calcFirstNumber.textContent = '';\n    }\n    //Set First number\n    firstNumber += evt.target.textContent;\n    calcFirstNumber.textContent += evt.target.textContent;\n  } else {\n    //Set second number\n    secondNumber += evt.target.textContent;\n    calcSecondNumber.textContent += evt.target.textContent;\n  }\n};\n\nconst handleCkickFunctions = evt => {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  //Function +-/\n  if (evt.target.textContent === '+/-') {\n    if (Math.sign(firstNumber) === -1) {\n      firstNumber = Math.abs(firstNumber);\n      calcFirstNumber.textContent = firstNumber;\n      calcSign.textContent = '';\n    } else {\n      firstNumber = -firstNumber;\n      calcFirstNumber.textContent = firstNumber;\n      calcSign.textContent = '';\n    }\n    return;\n  }\n  //Set sign\n  if (evt.target.textContent !== '=' && evt.target.textContent !== 'AC') {\n    sign = evt.target.textContent;\n    calcSign.textContent = sign;\n    return;\n  }\n\n  //AC button\n  if (evt.target.textContent === 'AC') {\n    clearAll();\n    calcSign.textContent = '0';\n  }\n\n  //Math\n  if (evt.target.textContent === '=') {\n    if (secondNumber === '') secondNumber = firstNumber;\n    if (firstNumber === '') firstNumber = '0';\n    switch (sign) {\n      case '+':\n        calcFirstNumber.textContent =\n          Number(firstNumber) + Number(secondNumber);\n        result = calcFirstNumber.textContent;\n        break;\n      case '-':\n        calcFirstNumber.textContent =\n          Number(firstNumber) - Number(secondNumber);\n        result = calcFirstNumber.textContent;\n        break;\n\n      case '*':\n        calcFirstNumber.textContent =\n          Number(firstNumber) * Number(secondNumber);\n        result = calcFirstNumber.textContent;\n        break;\n      case '%':\n        calcFirstNumber.textContent =\n          (Number(firstNumber) * Number(secondNumber)) / 100;\n        result = calcFirstNumber.textContent;\n        break;\n      case '/':\n        //Prevent js Infinity, when divide by zero.\n        if (secondNumber === '0') {\n          calcFirstNumber.textContent = 'Error';\n          return;\n        }\n        calcFirstNumber.textContent =\n          Number(firstNumber) / Number(secondNumber);\n        result = calcFirstNumber.textContent;\n        break;\n\n      default:\n        console.log('Sorry, we are no support this functions');\n    }\n  }\n  console.log(result);\n  secondNumber = '';\n  calcSecondNumber.textContent = '';\n  sign = '';\n  calcSign.textContent = '';\n};\n\n//Clear function\nconst clearAll = () => {\n  firstNumber = '';\n  secondNumber = '';\n  sign = '';\n  result = '';\n  calcFirstNumber.textContent = '0';\n  calcSecondNumber.textContent = '';\n  calcSign.textContent = '';\n};\n\nfunction handleDragStart(e) {\n  this.style.opacity = '0.4';\n}\n\nfunction handleDragEnd(e) {\n  this.style.opacity = '1';\n}\nfunction handleDrop(e) {\n  e.stopPropagation(); // препятствует перенаправлению в браузере.\n  return false;\n}\n\nlet items = document.querySelectorAll('.calculator');\nitems.forEach(function(item) {\n  item.addEventListener('dragstart', handleDragStart);\n  item.addEventListener('dragend', handleDragEnd);\n  item.addEventListener('drop', handleDrop);\n});\n","function getRefs() {\n  return {\n    calcFirstNumber: document.querySelector('.calculator-first-number'),\n    calcSecondNumber: document.querySelector('.calculator-second-number'),\n    calcSign: document.querySelector('.calculator-sign'),\n    calculatorNumbers: document.querySelector('.calculator-numbers'),\n    calculatorFunctions: document.querySelector('.calculator-functions'),\n  };\n}\n\nexport default getRefs;\n"],"names":["$7e6258f3559d0f34$var$ref","calcFirstNumber","document","querySelector","calcSecondNumber","calcSign","calculatorNumbers","calculatorFunctions","$7e6258f3559d0f34$var$calculatorNumbers","$7e6258f3559d0f34$var$calculatorFunctions","$7e6258f3559d0f34$var$calcFirstNumber","$7e6258f3559d0f34$var$calcSecondNumber","$7e6258f3559d0f34$var$calcSign","$7e6258f3559d0f34$var$firstNumber","$7e6258f3559d0f34$var$secondNumber","$7e6258f3559d0f34$var$sign","$7e6258f3559d0f34$var$result","$7e6258f3559d0f34$var$handleClickNumbers","evt","target","nodeName","textContent","indexOf","$7e6258f3559d0f34$var$clearAll","$7e6258f3559d0f34$var$handleCkickFunctions","Number","console","log","Math","sign","abs","$7e6258f3559d0f34$var$handleDragStart","e","this","style","opacity","$7e6258f3559d0f34$var$handleDragEnd","$7e6258f3559d0f34$var$handleDrop","stopPropagation","querySelectorAll","forEach","item","addEventListener"],"version":3,"file":"index.4f5e691c.js.map"}
const e={firstNumber:"",secondNumber:"",sign:"",result:"",accumulator:""},t=["Clear","Enter","=","/","*","-","+","%"],n=["1","2","3","4","5","6","7","8","9","0","."];var r=function(){return{container:document.querySelector(".container"),calculator:document.querySelector(".calculator"),calcFirstNumber:document.querySelector(".calculator-first-number"),calcSecondNumber:document.querySelector(".calculator-second-number"),calcSign:document.querySelector(".calculator-sign"),calculatorNumbers:document.querySelector(".calculator-numbers"),calculatorFunctions:document.querySelector(".calculator-functions"),calculatorViewWrapper:document.querySelector(".view-wrapper")}};const{calculator:u}=r();const{calcFirstNumber:c,calcSecondNumber:o,calcSign:s,calculatorViewWrapper:i}=r();var m=()=>{e.firstNumber="",e.secondNumber="",e.sign="",e.result="",e.accumulator="",c.textContent="0",o.textContent="",s.textContent="",i.classList.remove("large-font"),i.classList.remove("medium-font"),i.classList.remove("small-font")};const{calculatorViewWrapper:a}=r();function l(){e.firstNumber.length+e.secondNumber.length+e.result.length>11&&a.classList.add("large-font"),e.firstNumber.length+e.secondNumber.length+e.result.length>19&&(a.classList.add("medium-font"),a.classList.remove("large-font")),e.firstNumber.length+e.secondNumber.length+e.result.length>26&&(a.classList.add("small-font"),a.classList.remove("medium-font"))}const{calcFirstNumber:d,calcSecondNumber:b}=r();function N(t){if(""===e.secondNumber&&""===e.sign){if(""===e.firstNumber&&"."===t&&(e.firstNumber="0."),"0"===e.firstNumber&&"."!==t&&(e.firstNumber=""),""===e.firstNumber&&(d.textContent=""),"0"===e.firstNumber&&"0"===t)return;if("."===t&&d.textContent.indexOf(".")>=0)return;e.firstNumber+=t,d.textContent+=t}else{if("0"===e.secondNumber&&"."!==t)return e.secondNumber=t,void(b.textContent=e.secondNumber);if(""===e.secondNumber&&"."===t)return e.secondNumber="0.",void(b.textContent+=e.secondNumber);if("0"===e.secondNumber&&"0"===t)return;if("."===t&&b.textContent.indexOf(".")>=0)return;e.secondNumber+=t,b.textContent+=t,""!==e.accumulator&&(e.accumulator+=e.sign,e.accumulator+=e.secondNumber)}}var f=function(t){if("BUTTON"!==t.target.nodeName)return;const n=t.target.textContent.trim();l(),""!==e.result&&""===e.sign&&m(),N(n)};function g(e){return Function(` return (${e})`)()}const{calcFirstNumber:v,calcSecondNumber:x,calcSign:y}=r();function C(){if(""===e.secondNumber&&(e.secondNumber=e.firstNumber),""===e.firstNumber&&(e.firstNumber="0"),""!==e.accumulator)return e.result=g(e.accumulator),k(),L(),void S();e.result=g(e.firstNumber+e.sign+e.secondNumber),k(),L(),S(),e.secondNumber="",x.textContent="",e.sign="",y.textContent=""}function S(){v.textContent=e.result,e.firstNumber=v.textContent,e.secondNumber="",e.accumulator="",x.textContent="",e.sign="",y.textContent=""}function k(){if(e.result===1/0||e.result===-1/0)return e.result="Error",v.textContent=e.result,e.firstNumber="0",e.accumulator="",e.secondNumber="",x.textContent="",e.sign="",void(y.textContent="")}function L(){!Number.isInteger(e.result)&&String(e.result).length>7&&(e.result=parseFloat(e.result.toFixed(5)))}const{calcFirstNumber:p,calcSecondNumber:h,calcSign:q}=r();function w(){return""!==e.firstNumber&&""===e.secondNumber?-1===Math.sign(g(e.firstNumber))?(e.firstNumber=`(${1*g(e.firstNumber)/100})`,void(p.textContent=e.firstNumber)):(p.textContent=1*g(e.firstNumber)/100,void(e.firstNumber=p.textContent)):-1===Math.sign(g(e.secondNumber))?(e.secondNumber=`(${1*g(e.secondNumber)/100})`,void(h.textContent=e.secondNumber)):(h.textContent=1*g(e.secondNumber)/100,void(e.secondNumber=h.textContent))}const{calcFirstNumber:F,calcSecondNumber:E,calcSign:$}=r();function M(t){""!==e.firstNumber&&""!==e.secondNumber&&""!==e.sign&&(e.accumulator=e.firstNumber+e.sign+e.secondNumber,e.firstNumber=e.firstNumber+e.sign+e.secondNumber,e.secondNumber="",F.textContent=e.firstNumber,E.textContent=""),e.sign=t,$.textContent=e.sign}const{calcFirstNumber:T,calcSecondNumber:O}=r();var V=function(t){if("BUTTON"!==t.target.nodeName)return;const n=t.target.textContent.trim();if("+/-"===n)return""!==e.firstNumber&&""!==e.secondNumber?-1===Math.sign(g(e.secondNumber))?(e.secondNumber=String(Math.abs(g(e.secondNumber))),void(O.textContent=e.secondNumber)):(e.secondNumber=`(${String(-e.secondNumber)})`,void(O.textContent=e.secondNumber)):void(-1===Math.sign(g(e.firstNumber))?(e.firstNumber=String(Math.abs(g(e.firstNumber))),T.textContent=e.firstNumber):(e.firstNumber=`(${String(-e.firstNumber)})`,T.textContent=e.firstNumber));"%"!==n?"="===n||"AC"===n||"+/-"===n?("AC"===n&&m(),(""===e.firstNumber||"0"===e.firstNumber)&&""!==e.sign&&""===e.secondNumber||""!==e.firstNumber&&""===e.sign&&""===e.secondNumber||"="===n&&C()):M(n):w()};var W=function(t){n.includes(t.key)&&(document.querySelector(`[data-action="${t.key}"]`)&&document.querySelector(`[data-action="${t.key}"]`).classList.add("btn-active"),l(),""!==e.result&&""===e.sign&&m(),N(t.key))};var X=function(n){if(t.includes(n.key)){if("Enter"===n.key?document.querySelector('[data-action="="]').classList.add("btn-active"):document.querySelector(`[data-action="${n.key}"]`).classList.add("btn-active"),"%"===n.key)return void w();if("="!==n.key&&"Clear"!==n.key&&"Enter"!==n.key&&"%"!==n.key)return void M(n.key);if("Clear"===n.key&&m(),(""===e.firstNumber||"0"===e.firstNumber)&&""!==e.sign&&""===e.secondNumber||""!==e.firstNumber&&""===e.sign&&""===e.secondNumber)return;"="!==n.key&&"Enter"!==n.key||C()}};var Y=e=>{if(n.includes(e.key)||t.includes(e.key)){if("Enter"===e.key)return void document.querySelector('[data-action="="]').classList.remove("btn-active");document.querySelector(`[data-action="${e.key}"]`).classList.remove("btn-active")}};const{container:A,calculatorNumbers:B,calculatorFunctions:D}=r();!function(e){let t=0,n=0,r=0,c=0;function o(e){(e=e||window.event).preventDefault(),r=e.clientX,c=e.clientY,document.onmouseup=i,document.onmousemove=s}function s(u){(u=u||window.event).preventDefault(),t=r-u.clientX,n=c-u.clientY,r=u.clientX,c=u.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-t+"px"}function i(){document.onmouseup=null,document.onmousemove=null}u.onmousedown=o}(A),B.addEventListener("click",f),D.addEventListener("click",V),document.addEventListener("keydown",W),document.addEventListener("keydown",X),document.addEventListener("keyup",Y);
//# sourceMappingURL=index.aae0e936.js.map

{"mappings":"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","sources":["src/js/app.js","src/js/refs.js"],"sourcesContent":["import getRefs from './refs';\n\nconst {\n  calculator,\n  container,\n  calculatorNumbers,\n  calculatorFunctions,\n  calcFirstNumber,\n  calcSecondNumber,\n  calcSign,\n  calculatorViewWrapper,\n} = getRefs();\n\nlet firstNumber = '';\nlet secondNumber = '';\nlet sign = '';\nlet result = '';\nlet accumulator = '';\n\nexport default function app() {\n  calculatorNumbers.addEventListener('click', handleClickNumbers);\n  calculatorFunctions.addEventListener('click', handleCkickFunctions);\n}\n\nfunction parse(str) {\n  return Function(`'use strict'; return (${str})`)();\n}\n\nconst handleClickNumbers = evt => {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  if (firstNumber.length + secondNumber.length + result.length > 10) {\n    console.log('maxlenth limit!!!');\n    console.log(firstNumber.length + secondNumber.length + result.length);\n    calculatorViewWrapper.classList.add('large-font');\n  }\n  if (firstNumber.length + secondNumber.length + result.length > 20) {\n    console.log('maxlenth limit!!!');\n    console.log(firstNumber.length + secondNumber.length + result.length);\n    calculatorViewWrapper.classList.add('medium-font');\n    calculatorViewWrapper.classList.remove('large-font');\n  }\n  if (firstNumber.length + secondNumber.length + result.length > 28) {\n    console.log('maxlenth limit!!!');\n    console.log(firstNumber.length + secondNumber.length + result.length);\n    calculatorViewWrapper.classList.add('small-font');\n    calculatorViewWrapper.classList.remove('medium-font');\n  }\n  //Only one dot in calcView\n\n  //Clear result after Math for new values.\n  if (result !== '' && sign === '') {\n    clearAll();\n  }\n  //Set first number if second number and sign are empty\n  if (secondNumber === '' && sign === '') {\n    //Delete 0 from calcViev\n    if (firstNumber === '') {\n      calcFirstNumber.textContent = '';\n    }\n    if (\n      evt.target.textContent === '.' &&\n      calcFirstNumber.textContent.indexOf('.') >= 0\n    ) {\n      return;\n    }\n    //Set First number\n    firstNumber += evt.target.textContent;\n    calcFirstNumber.textContent += evt.target.textContent;\n  } else {\n    //Set second number\n    if (\n      evt.target.textContent === '.' &&\n      calcSecondNumber.textContent.indexOf('.') >= 0\n    ) {\n      return;\n    }\n    secondNumber += evt.target.textContent;\n    calcSecondNumber.textContent += evt.target.textContent;\n    if (accumulator !== '') {\n      accumulator += sign;\n      accumulator += secondNumber;\n    }\n  }\n};\n\nconst handleCkickFunctions = evt => {\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  //Function +-/\n  if (evt.target.textContent === '+/-') {\n    if (firstNumber !== '' && secondNumber !== '') {\n      console.log(firstNumber);\n      if (Math.sign(secondNumber) === -1) {\n        secondNumber = String(Math.abs(secondNumber));\n        calcSecondNumber.textContent = secondNumber;\n\n        return;\n      } else {\n        secondNumber = String(-secondNumber);\n        calcSecondNumber.textContent = secondNumber;\n\n        return;\n      }\n    }\n    if (Math.sign(firstNumber) === -1) {\n      firstNumber = String(Math.abs(firstNumber));\n      calcFirstNumber.textContent = firstNumber;\n    } else {\n      firstNumber = String(-firstNumber);\n      calcFirstNumber.textContent = firstNumber;\n    }\n    return;\n  }\n  //Percents in numbers\n  if (evt.target.textContent === '%') {\n    if (firstNumber !== '' && secondNumber === '') {\n      console.log('work');\n      calcFirstNumber.textContent = (Number(firstNumber) * 1) / 100;\n      result = calcFirstNumber.textContent;\n      firstNumber = calcFirstNumber.textContent;\n      return;\n    } else {\n      calcSecondNumber.textContent = (Number(secondNumber) * 1) / 100;\n      result = calcSecondNumber.textContent;\n      secondNumber = calcSecondNumber.textContent;\n      return;\n    }\n  }\n\n  //Set sign\n  if (\n    evt.target.textContent !== '=' &&\n    evt.target.textContent !== 'AC' &&\n    evt.target.textContent !== '+/-'\n  ) {\n    //Concat string for multiple math operations\n    if (firstNumber !== '' && secondNumber !== '' && sign !== '') {\n      accumulator = firstNumber + sign + secondNumber;\n      firstNumber = firstNumber + sign + secondNumber;\n\n      secondNumber = '';\n      calcFirstNumber.textContent = firstNumber;\n      calcSecondNumber.textContent = '';\n    }\n    sign = evt.target.textContent;\n    calcSign.textContent = sign;\n    return;\n  }\n\n  //AC button\n  if (evt.target.textContent === 'AC') {\n    clearAll();\n    calcSign.textContent = '0';\n  }\n\n  //Math;\n  if (evt.target.textContent === '=') {\n    if (secondNumber === '') secondNumber = firstNumber;\n    if (firstNumber === '') firstNumber = '0';\n\n    if (accumulator !== '') {\n      //Multiple math operations\n      result = parse(accumulator);\n      calcFirstNumber.textContent = result;\n      firstNumber = calcFirstNumber.textContent;\n      accumulator = calcFirstNumber.textContent;\n      secondNumber = '';\n      calcSecondNumber.textContent = '';\n      sign = '';\n      calcSign.textContent = '';\n\n      return;\n    }\n\n    //Single math operations\n    switch (sign) {\n      case '+':\n        calcFirstNumber.textContent =\n          Number(firstNumber) + Number(secondNumber);\n\n        result = calcFirstNumber.textContent;\n        break;\n      case '-':\n        calcFirstNumber.textContent =\n          Number(firstNumber) - Number(secondNumber);\n\n        result = calcFirstNumber.textContent;\n        break;\n\n      case '*':\n        calcFirstNumber.textContent =\n          Number(firstNumber) * Number(secondNumber);\n\n        result = calcFirstNumber.textContent;\n        break;\n      case '%':\n        calcFirstNumber.textContent =\n          (Number(firstNumber) * Number(secondNumber)) / 100;\n\n        result = calcFirstNumber.textContent;\n        break;\n      case '/':\n        //Prevent js Infinity, when divide by zero.\n        if (secondNumber === '0') {\n          calcFirstNumber.textContent = 'Error';\n          return;\n        }\n        calcFirstNumber.textContent =\n          Number(firstNumber) / Number(secondNumber);\n\n        result = calcFirstNumber.textContent;\n        break;\n\n      default:\n        console.log('Sorry, we are no support this functions');\n    }\n  }\n\n  secondNumber = '';\n  calcSecondNumber.textContent = '';\n  sign = '';\n  calcSign.textContent = '';\n};\n\n//Clear function\nconst clearAll = () => {\n  firstNumber = '';\n  secondNumber = '';\n  sign = '';\n  result = '';\n  accumulator = '';\n  calcFirstNumber.textContent = '0';\n  calcSecondNumber.textContent = '';\n  calcSign.textContent = '';\n  calculatorViewWrapper.classList.remove('large-font');\n  calculatorViewWrapper.classList.remove('medium-font');\n  calculatorViewWrapper.classList.remove('small-font');\n};\n\n// Make the DIV element draggable:\ndragElement(container);\n\nfunction dragElement(elmnt) {\n  let pos1 = 0;\n  let pos2 = 0;\n  let pos3 = 0;\n  let pos4 = 0;\n  if (calculator) {\n    // if present, the header is where you move the DIV from:\n    calculator.onmousedown = dragMouseDown;\n  } else {\n    // otherwise, move the DIV from anywhere inside the DIV:\n    calculator.onmousedown = dragMouseDown;\n  }\n\n  function dragMouseDown(e) {\n    e = e || window.event;\n    e.preventDefault();\n\n    // get the mouse cursor position at startup:\n    pos3 = e.clientX;\n    pos4 = e.clientY;\n    document.onmouseup = closeDragElement;\n    // call a function whenever the cursor moves:\n    document.onmousemove = elementDrag;\n  }\n\n  function elementDrag(e) {\n    e = e || window.event;\n    e.preventDefault();\n    // calculate the new cursor position:\n    pos1 = pos3 - e.clientX;\n    pos2 = pos4 - e.clientY;\n    pos3 = e.clientX;\n    pos4 = e.clientY;\n    // set the element's new position:\n    elmnt.style.top = elmnt.offsetTop - pos2 + 'px';\n    elmnt.style.left = elmnt.offsetLeft - pos1 + 'px';\n  }\n\n  function closeDragElement() {\n    // stop moving when mouse button is released:\n    document.onmouseup = null;\n    document.onmousemove = null;\n  }\n}\n","function getRefs() {\n  return {\n    container: document.querySelector('.container'),\n    calculator: document.querySelector('.calculator'),\n    calcFirstNumber: document.querySelector('.calculator-first-number'),\n    calcSecondNumber: document.querySelector('.calculator-second-number'),\n    calcSign: document.querySelector('.calculator-sign'),\n    calculatorNumbers: document.querySelector('.calculator-numbers'),\n    calculatorFunctions: document.querySelector('.calculator-functions'),\n    calculatorViewWrapper: document.querySelector('.view-wrapper'),\n  };\n}\n\nexport default getRefs;\n"],"names":["$7e6258f3559d0f34$var$ref","container","document","querySelector","calculator","calcFirstNumber","calcSecondNumber","calcSign","calculatorNumbers","calculatorFunctions","calculatorViewWrapper","$7e6258f3559d0f34$var$calculator","$7e6258f3559d0f34$var$calculatorNumbers","$7e6258f3559d0f34$var$calculatorFunctions","$7e6258f3559d0f34$var$calcFirstNumber","$7e6258f3559d0f34$var$calcSecondNumber","$7e6258f3559d0f34$var$calcSign","$7e6258f3559d0f34$var$calculatorViewWrapper","$7e6258f3559d0f34$var$firstNumber","$7e6258f3559d0f34$var$secondNumber","$7e6258f3559d0f34$var$sign","$7e6258f3559d0f34$var$result","$7e6258f3559d0f34$var$accumulator","$7e6258f3559d0f34$var$handleClickNumbers","evt","target","nodeName","length","console","log","classList","add","remove","$7e6258f3559d0f34$var$clearAll","textContent","indexOf","$7e6258f3559d0f34$var$handleCkickFunctions","Math","sign","String","abs","Number","Function","concat","elmnt","pos1","pos2","pos3","pos4","onmousedown","dragMouseDown","e","window","event","preventDefault","clientX","clientY","onmouseup","closeDragElement","onmousemove","elementDrag","style","top","offsetTop","left","offsetLeft","$7e6258f3559d0f34$var$dragElement","addEventListener"],"version":3,"file":"index.f1b416ba.js.map"}